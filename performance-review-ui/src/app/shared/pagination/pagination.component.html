<div class="card-body">

    <div class="d-flex justify-content-between align-items-center mb-4">
        <input type="text" class="form-control w-50 me-3" placeholder="Search..." [value]="searchTerm()"
            (input)="searchTerm.set($any($event.target).value)" />

        <select class="form-select w-auto" [(ngModel)]="pageSize" (ngModelChange)="onPageSizeChange($event)">
            <option *ngFor="let size of pageSizeOptions" [value]="size">
                {{ size === 0 ? 'All' : size }}
            </option>
        </select>
    </div>

    <!-- Table -->
    <table class="table table-striped table-bordered">
        <thead class="table-light">
            <tr>
                <th *ngFor="let col of columns" (click)="sorting(col.key)" class="cursor-pointer">
                    {{ col.label }}
                    <span *ngIf="sortColumn() === col.key">
                        {{ sortDirection() === 'asc' ? '▲' : '▼' }}
                    </span>
                </th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let item of data">
                <td *ngFor="let col of columns">
                    {{ getItemValue(item, col.key) }}
                </td>
            </tr>
        </tbody>
    </table>

    <!-- Pagination -->
    <nav *ngIf="totalPages > 1" aria-label="Page navigation">
        <ul class="pagination justify-content-center">
            <li class="page-item" [class.disabled]="currentPage() === 1">
                <button class="page-link" (click)="onChangePage(currentPage() - 1)" aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span>
                </button>
            </li>
            <li class="page-item disabled">
                <span class="page-link">{{ currentPage() }} / {{ totalPages }}</span>
            </li>
            <li class="page-item" [class.disabled]="currentPage() === totalPages">
                <button class="page-link" (click)="onChangePage(currentPage() + 1)" aria-label="Next">
                    <span aria-hidden="true">&raquo;</span>
                </button>
            </li>
        </ul>
    </nav>
</div>